import{s as re,n as G,b as fe,f as he,o as ye,r as Me}from"../chunks/scheduler.bc760b9c.js";import{S as ie,i as ae,e as ce,a as T,f as m,A as be,B as L,C as F,j as D,k as h,D as b,z as M,E as de,g as B,r as $,s as J,h as P,u as x,c as Q,l as Y,v as ee,F as te,d as ne,t as se,w as le,m as oe,n as ue,x as we,y as Ee}from"../chunks/index.b6611d32.js";function X(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const De=!0,Pe=Object.freeze(Object.defineProperty({__proto__:null,prerender:De},Symbol.toStringTag,{value:"Module"}));function pe(e,t,s){const l=e.slice();return l[4]=t[s],l}function me(e){let t,s,l,r,u,i,a,g,w,p,v;return{c(){t=L("svg"),s=L("defs"),l=L("pattern"),r=L("line"),u=L("path"),i=L("path"),a=L("path"),g=L("path"),w=L("path"),p=L("path"),v=L("path"),this.h()},l(_){t=F(_,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var c=D(t);s=F(c,"defs",{});var C=D(s);l=F(C,"pattern",{id:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var I=D(l);r=F(I,"line",{stroke:!0,"stroke-width":!0,y2:!0}),D(r).forEach(m),I.forEach(m),C.forEach(m),u=F(c,"path",{d:!0,class:!0}),D(u).forEach(m),i=F(c,"path",{d:!0,class:!0}),D(i).forEach(m),a=F(c,"path",{d:!0,class:!0}),D(a).forEach(m),g=F(c,"path",{d:!0,class:!0}),D(g).forEach(m),w=F(c,"path",{d:!0,class:!0}),D(w).forEach(m),p=F(c,"path",{d:!0,class:!0}),D(p).forEach(m),v=F(c,"path",{d:!0,class:!0}),D(v).forEach(m),c.forEach(m),this.h()},h(){h(r,"stroke","#800"),h(r,"stroke-width","1px"),h(r,"y2","1"),h(l,"id","off-fill"),h(l,"width","1"),h(l,"height","1"),h(l,"patternUnits","userSpaceOnUse"),h(l,"patternTransform","rotate(10)"),h(u,"d","M1 1l1-1h6l1 1-1 1H2z"),h(u,"class","svelte-n5l988"),b(u,"on",e[1][e[4]][0]),h(i,"d","M9 1l1 1v6L9 9 8 8V2z"),h(i,"class","svelte-n5l988"),b(i,"on",e[1][e[4]][1]),h(a,"d","M9 9l1 1v6l-1 1-1-1v-6z"),h(a,"class","svelte-n5l988"),b(a,"on",e[1][e[4]][2]),h(g,"d","M9 17l-1 1H2l-1-1 1-1h6z"),h(g,"class","svelte-n5l988"),b(g,"on",e[1][e[4]][3]),h(w,"d","M1 17l-1-1v-6l1-1 1 1v6z"),h(w,"class","svelte-n5l988"),b(w,"on",e[1][e[4]][4]),h(p,"d","M1 9L0 8V2l1-1 1 1v6z"),h(p,"class","svelte-n5l988"),b(p,"on",e[1][e[4]][5]),h(v,"d","M1 9l1-1h6l1 1-1 1H2z"),h(v,"class","svelte-n5l988"),b(v,"on",e[1][e[4]][6]),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width","192"),h(t,"height","320"),h(t,"viewBox","-1 -1 12 20"),h(t,"class","segment svelte-n5l988")},m(_,c){T(_,t,c),M(t,s),M(s,l),M(l,r),M(t,u),M(t,i),M(t,a),M(t,g),M(t,w),M(t,p),M(t,v)},p(_,c){c&3&&b(u,"on",_[1][_[4]][0]),c&3&&b(i,"on",_[1][_[4]][1]),c&3&&b(a,"on",_[1][_[4]][2]),c&3&&b(g,"on",_[1][_[4]][3]),c&3&&b(w,"on",_[1][_[4]][4]),c&3&&b(p,"on",_[1][_[4]][5]),c&3&&b(v,"on",_[1][_[4]][6])},d(_){_&&m(t)}}}function ke(e){let t,s=X(e[0]),l=[];for(let r=0;r<s.length;r+=1)l[r]=me(pe(e,s,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=ce()},l(r){for(let u=0;u<l.length;u+=1)l[u].l(r);t=ce()},m(r,u){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(r,u);T(r,t,u)},p(r,[u]){if(u&3){s=X(r[0]);let i;for(i=0;i<s.length;i+=1){const a=pe(r,s,i);l[i]?l[i].p(a,u):(l[i]=me(a),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=s.length}},i:G,o:G,d(r){r&&m(t),be(l,r)}}}function ze(e,t,s){let l,{numDigits:r=3}=t,{number:u}=t;const i=[[!0,!0,!0,!0,!0,!0,!1],[!1,!0,!0,!1,!1,!1,!1],[!0,!0,!1,!0,!0,!1,!0],[!0,!0,!0,!0,!1,!1,!0],[!1,!0,!0,!1,!1,!0,!0],[!0,!1,!0,!0,!1,!0,!0],[!0,!1,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!1,!0,!0]];return e.$$set=a=>{"numDigits"in a&&s(2,r=a.numDigits),"number"in a&&s(3,u=a.number)},e.$$.update=()=>{e.$$.dirty&12&&s(0,l=Math.floor(u).toString().padStart(r,"0").split("").slice(-r).map(Number))},[l,i,r,u]}class ge extends ie{constructor(t){super(),ae(this,t,ze,ke,re,{numDigits:2,number:3})}}function _e(e,t,s){const l=e.slice();return l[28]=t[s],l[29]=t,l[30]=s,l}function je(e){let t;return{c(){t=oe("ðŸ˜µ")},l(s){t=ue(s,"ðŸ˜µ")},m(s,l){T(s,t,l)},d(s){s&&m(t)}}}function Ce(e){let t;return{c(){t=oe("ðŸ˜Ž")},l(s){t=ue(s,"ðŸ˜Ž")},m(s,l){T(s,t,l)},d(s){s&&m(t)}}}function Oe(e){let t;return{c(){t=oe("ðŸ˜Š")},l(s){t=ue(s,"ðŸ˜Š")},m(s,l){T(s,t,l)},d(s){s&&m(t)}}}function ve(e){let t,s,l,r;function u(...a){return e[16](e[28],e[29],e[30],...a)}function i(...a){return e[17](e[28],e[29],e[30],...a)}return{c(){t=B("div"),this.h()},l(a){t=P(a,"DIV",{class:!0}),D(t).forEach(m),this.h()},h(){h(t,"class",s="tile"+(e[28].type==e[7].Open?` mines-nearby-${e[9](e[28].x,e[28].y)}`:"")+" svelte-74z2jo"),b(t,"opened",e[28].type==e[7].Open),b(t,"flagged",e[28].type==e[7].Flagged),b(t,"exploded",e[28].isMine&&e[28].type==e[7].Open),b(t,"displayMine",e[2]==e[6].Lost&&e[28].isMine)},m(a,g){T(a,t,g),l||(r=[te(t,"click",u),te(t,"contextmenu",i)],l=!0)},p(a,g){e=a,g&16&&s!==(s="tile"+(e[28].type==e[7].Open?` mines-nearby-${e[9](e[28].x,e[28].y)}`:"")+" svelte-74z2jo")&&h(t,"class",s),g&144&&b(t,"opened",e[28].type==e[7].Open),g&144&&b(t,"flagged",e[28].type==e[7].Flagged),g&144&&b(t,"exploded",e[28].isMine&&e[28].type==e[7].Open),g&84&&b(t,"displayMine",e[2]==e[6].Lost&&e[28].isMine)},d(a){a&&m(t),l=!1,Me(r)}}}function Ie(e){let t,s,l,r,u,i,a,g,w,p,v,_,c,C,I,R;function Z(o){e[14](o)}let W={numDigits:3};e[3]!==void 0&&(W.number=e[3]),r=new ge({props:W}),fe.push(()=>de(r,"number",Z));function S(o,z){if(o[2]==o[6].Waiting||o[2]==o[6].Generated)return Oe;if(o[2]==o[6].Won)return Ce;if(o[2]==o[6].Lost)return je}let N=S(e),E=N&&N(e);function A(o){e[15](o)}let U={numDigits:3};e[5]!==void 0&&(U.number=e[5]),p=new ge({props:U}),fe.push(()=>de(p,"number",A));let V=X(e[4]),y=[];for(let o=0;o<V.length;o+=1)y[o]=ve(_e(e,V,o));return{c(){t=B("div"),s=B("div"),l=B("div"),$(r.$$.fragment),i=J(),a=B("button"),E&&E.c(),g=J(),w=B("div"),$(p.$$.fragment),_=J(),c=B("div");for(let o=0;o<y.length;o+=1)y[o].c();this.h()},l(o){t=P(o,"DIV",{class:!0});var z=D(t);s=P(z,"DIV",{class:!0});var j=D(s);l=P(j,"DIV",{class:!0});var H=D(l);x(r.$$.fragment,H),H.forEach(m),i=Q(j),a=P(j,"BUTTON",{class:!0});var k=D(a);E&&E.l(k),k.forEach(m),g=Q(j),w=P(j,"DIV",{class:!0});var n=D(w);x(p.$$.fragment,n),n.forEach(m),j.forEach(m),_=Q(z),c=P(z,"DIV",{class:!0,style:!0});var f=D(c);for(let d=0;d<y.length;d+=1)y[d].l(f);f.forEach(m),z.forEach(m),this.h()},h(){h(l,"class","display svelte-74z2jo"),h(a,"class","button svelte-74z2jo"),h(w,"class","display svelte-74z2jo"),h(s,"class","toparea svelte-74z2jo"),h(c,"class","board svelte-74z2jo"),Y(c,"grid-template-columns","repeat("+e[0]+", 1fr)"),Y(c,"grid-template-rows","repeat("+e[1]+", 1fr)"),h(t,"class","game svelte-74z2jo")},m(o,z){T(o,t,z),M(t,s),M(s,l),ee(r,l,null),M(s,i),M(s,a),E&&E.m(a,null),M(s,g),M(s,w),ee(p,w,null),M(t,_),M(t,c);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(c,null);C=!0,I||(R=te(a,"click",e[12]),I=!0)},p(o,[z]){const j={};!u&&z&8&&(u=!0,j.number=o[3],he(()=>u=!1)),r.$set(j),N!==(N=S(o))&&(E&&E.d(1),E=N&&N(o),E&&(E.c(),E.m(a,null)));const H={};if(!v&&z&32&&(v=!0,H.number=o[5],he(()=>v=!1)),p.$set(H),z&4052){V=X(o[4]);let k;for(k=0;k<V.length;k+=1){const n=_e(o,V,k);y[k]?y[k].p(n,z):(y[k]=ve(n),y[k].c(),y[k].m(c,null))}for(;k<y.length;k+=1)y[k].d(1);y.length=V.length}(!C||z&1)&&Y(c,"grid-template-columns","repeat("+o[0]+", 1fr)"),(!C||z&2)&&Y(c,"grid-template-rows","repeat("+o[1]+", 1fr)")},i(o){C||(ne(r.$$.fragment,o),ne(p.$$.fragment,o),C=!0)},o(o){se(r.$$.fragment,o),se(p.$$.fragment,o),C=!1},d(o){o&&m(t),le(r),E&&E.d(),le(p),be(y,o),I=!1,R()}}}function Le(e,t,s){var l=(n=>(n[n.Waiting=0]="Waiting",n[n.Generated=1]="Generated",n[n.Won=2]="Won",n[n.Lost=3]="Lost",n))(l||{});let r=0,{width:u}=t,{height:i}=t,{numMines:a}=t,g=0;var w=(n=>(n[n.Covered=0]="Covered",n[n.Open=1]="Open",n[n.Flagged=2]="Flagged",n))(w||{});let p=[];function v(n,f){return n<0||n>=u||f<0||f>=i?{x:n,y:f,isMine:!1,type:1}:p[n+f*u]}function _(){s(4,p=new Array(u*i));for(let n=0;n<u;n++)for(let f=0;f<i;f++)s(4,p[n+f*u]={x:n,y:f,isMine:!1,type:0},p)}const c=[{x:0,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0}];function*C(n,f){for(const d of c)yield v(n+d.x,f+d.y)}function I(n,f){let d=0;for(const O of C(n,f))O.isMine&&d++;return d}function R(n,f){let d=0;for(const O of C(n,f))O.type==2&&d++;return d}function Z(n,f){do{_();const d=[...p];for(let O=0;O<a;O++){const q=Math.floor(Math.random()*d.length),K=d.splice(q,1)[0];K.isMine=!0}}while(I(n,f)>0);s(2,r=1),V()}function W(n,f){if(r==0&&Z(n,f),r==1&&v(n,f).type!=2){if(v(n,f).type==0){if(v(n,f).type=1,v(n,f).isMine){s(2,r=3),y();return}if(I(n,f)==0)for(const d of C(n,f))W(d.x,d.y)}else if(v(n,f).type==1&&I(n,f)==R(n,f))for(const d of C(n,f))v(d.x,d.y).type==0&&W(d.x,d.y)}}function S(n,f){if(r!=1)return;const d=v(n,f);if(d.type==1)return;d.type=d.type==0?2:0;const O=p.reduce((q,K)=>K.isMine&&K.type==2?++q:q,0);s(3,g=a-O),g==0&&(s(2,r=2),y())}let N=-1,E=0,A=0;function U(){clearTimeout(N);const n=Date.now()-E+1005;N=setTimeout(()=>U(),Math.floor(n/1e3)*1e3%1e3),s(5,A=Math.floor((Date.now()-E)/1e3))}function V(){E=Date.now(),U()}function y(){clearTimeout(N)}function o(){s(2,r=0),_(),s(3,g=a),y(),s(5,A=0)}ye(()=>{o()});function z(n){g=n,s(3,g)}function j(n){A=n,s(5,A)}const H=(n,f,d,O)=>{O.preventDefault(),W(n.x,n.y),s(4,f[d]=v(n.x,n.y),p)},k=(n,f,d,O)=>{O.preventDefault(),S(n.x,n.y),s(4,f[d]=v(n.x,n.y),p)};return e.$$set=n=>{"width"in n&&s(0,u=n.width),"height"in n&&s(1,i=n.height),"numMines"in n&&s(13,a=n.numMines)},[u,i,r,g,p,A,l,w,v,I,W,S,o,a,z,j,H,k]}class Fe extends ie{constructor(t){super(),ae(this,t,Le,Ie,re,{width:0,height:1,numMines:13})}}function Ne(e){let t,s=`body {
            display: flex;
            justify-content: center;
            align-items: center;

            width: 100vw;
            height: 100vh;

            margin: 0px;

            background-color: #C6C6C6;
        }`,l,r,u;return r=new Fe({props:{width:30,height:16,numMines:99}}),{c(){t=B("style"),t.textContent=s,l=J(),$(r.$$.fragment)},l(i){const a=we("svelte-14g35tl",document.head);t=P(a,"STYLE",{"data-svelte-h":!0}),Ee(t)!=="svelte-15oxlt6"&&(t.textContent=s),a.forEach(m),l=Q(i),x(r.$$.fragment,i)},m(i,a){M(document.head,t),T(i,l,a),ee(r,i,a),u=!0},p:G,i(i){u||(ne(r.$$.fragment,i),u=!0)},o(i){se(r.$$.fragment,i),u=!1},d(i){i&&m(l),m(t),le(r,i)}}}class Te extends ie{constructor(t){super(),ae(this,t,null,Ne,re,{})}}export{Te as component,Pe as universal};
