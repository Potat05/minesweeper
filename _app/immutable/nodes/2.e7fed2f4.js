import{s as re,n as G,b as he,f as ce,o as Me,r as we}from"../chunks/scheduler.bc760b9c.js";import{S as ae,i as ie,e as de,a as P,f as p,A as be,B as L,C as I,j as E,k as h,D as y,z as M,E as me,g as A,r as $,s as J,h as N,u as x,c as Q,l as Y,v as ee,F as te,d as ne,t as se,w as le,m as oe,n as ue,x as De,y as Ee}from"../chunks/index.b6611d32.js";function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const ke=!0,Pe=Object.freeze(Object.defineProperty({__proto__:null,prerender:ke},Symbol.toStringTag,{value:"Module"}));function ge(t,e,s){const l=t.slice();return l[5]=e[s],l}function pe(t){let e,s,l,r,u,a,i,c,w,g,v;return{c(){e=L("svg"),s=L("defs"),l=L("pattern"),r=L("line"),u=L("path"),a=L("path"),i=L("path"),c=L("path"),w=L("path"),g=L("path"),v=L("path"),this.h()},l(_){e=I(_,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var d=E(e);s=I(d,"defs",{});var j=E(s);l=I(j,"pattern",{id:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var F=E(l);r=I(F,"line",{stroke:!0,"stroke-width":!0,y2:!0}),E(r).forEach(p),F.forEach(p),j.forEach(p),u=I(d,"path",{d:!0,class:!0}),E(u).forEach(p),a=I(d,"path",{d:!0,class:!0}),E(a).forEach(p),i=I(d,"path",{d:!0,class:!0}),E(i).forEach(p),c=I(d,"path",{d:!0,class:!0}),E(c).forEach(p),w=I(d,"path",{d:!0,class:!0}),E(w).forEach(p),g=I(d,"path",{d:!0,class:!0}),E(g).forEach(p),v=I(d,"path",{d:!0,class:!0}),E(v).forEach(p),d.forEach(p),this.h()},h(){h(r,"stroke","#800"),h(r,"stroke-width","1px"),h(r,"y2","1"),h(l,"id","off-fill"),h(l,"width","1"),h(l,"height","1"),h(l,"patternUnits","userSpaceOnUse"),h(l,"patternTransform","rotate(10)"),h(u,"d","M1 1l1-1h6l1 1-1 1H2z"),h(u,"class","svelte-n5l988"),y(u,"on",t[1][t[5]][0]),h(a,"d","M9 1l1 1v6L9 9 8 8V2z"),h(a,"class","svelte-n5l988"),y(a,"on",t[1][t[5]][1]),h(i,"d","M9 9l1 1v6l-1 1-1-1v-6z"),h(i,"class","svelte-n5l988"),y(i,"on",t[1][t[5]][2]),h(c,"d","M9 17l-1 1H2l-1-1 1-1h6z"),h(c,"class","svelte-n5l988"),y(c,"on",t[1][t[5]][3]),h(w,"d","M1 17l-1-1v-6l1-1 1 1v6z"),h(w,"class","svelte-n5l988"),y(w,"on",t[1][t[5]][4]),h(g,"d","M1 9L0 8V2l1-1 1 1v6z"),h(g,"class","svelte-n5l988"),y(g,"on",t[1][t[5]][5]),h(v,"d","M1 9l1-1h6l1 1-1 1H2z"),h(v,"class","svelte-n5l988"),y(v,"on",t[1][t[5]][6]),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"width","192"),h(e,"height","320"),h(e,"viewBox","-1 -1 12 20"),h(e,"class","segment svelte-n5l988")},m(_,d){P(_,e,d),M(e,s),M(s,l),M(l,r),M(e,u),M(e,a),M(e,i),M(e,c),M(e,w),M(e,g),M(e,v)},p(_,d){d&3&&y(u,"on",_[1][_[5]][0]),d&3&&y(a,"on",_[1][_[5]][1]),d&3&&y(i,"on",_[1][_[5]][2]),d&3&&y(c,"on",_[1][_[5]][3]),d&3&&y(w,"on",_[1][_[5]][4]),d&3&&y(g,"on",_[1][_[5]][5]),d&3&&y(v,"on",_[1][_[5]][6])},d(_){_&&p(e)}}}function ze(t){let e,s=X(t[0]),l=[];for(let r=0;r<s.length;r+=1)l[r]=pe(ge(t,s,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=de()},l(r){for(let u=0;u<l.length;u+=1)l[u].l(r);e=de()},m(r,u){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,u);P(r,e,u)},p(r,[u]){if(u&3){s=X(r[0]);let a;for(a=0;a<s.length;a+=1){const i=ge(r,s,a);l[a]?l[a].p(i,u):(l[a]=pe(i),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},i:G,o:G,d(r){r&&p(e),be(l,r)}}}function Ce(t,e,s){let l,{minDigits:r=3}=e,{maxDigits:u=3}=e,{number:a}=e;const i={0:[!0,!0,!0,!0,!0,!0,!1],1:[!1,!0,!0,!1,!1,!1,!1],2:[!0,!0,!1,!0,!0,!1,!0],3:[!0,!0,!0,!0,!1,!1,!0],4:[!1,!0,!0,!1,!1,!0,!0],5:[!0,!1,!0,!0,!1,!0,!0],6:[!0,!1,!0,!0,!0,!0,!0],7:[!0,!0,!0,!1,!1,!1,!1],8:[!0,!0,!0,!0,!0,!0,!0],9:[!0,!0,!0,!0,!1,!0,!0],"-":[!1,!1,!1,!1,!1,!1,!0]," ":[!1,!1,!1,!1,!1,!1,!1]};return t.$$set=c=>{"minDigits"in c&&s(2,r=c.minDigits),"maxDigits"in c&&s(3,u=c.maxDigits),"number"in c&&s(4,a=c.number)},t.$$.update=()=>{t.$$.dirty&28&&s(0,l=Math.floor(a).toString().padStart(r," ").slice(-u).split(""))},[l,i,r,u,a]}class _e extends ae{constructor(e){super(),ie(this,e,Ce,ze,re,{minDigits:2,maxDigits:3,number:4})}}function ve(t,e,s){const l=t.slice();return l[28]=e[s],l[29]=e,l[30]=s,l}function je(t){let e;return{c(){e=oe("ðŸ˜µ")},l(s){e=ue(s,"ðŸ˜µ")},m(s,l){P(s,e,l)},d(s){s&&p(e)}}}function Oe(t){let e;return{c(){e=oe("ðŸ˜Ž")},l(s){e=ue(s,"ðŸ˜Ž")},m(s,l){P(s,e,l)},d(s){s&&p(e)}}}function Fe(t){let e;return{c(){e=oe("ðŸ˜Š")},l(s){e=ue(s,"ðŸ˜Š")},m(s,l){P(s,e,l)},d(s){s&&p(e)}}}function ye(t){let e,s,l,r;function u(...i){return t[16](t[28],t[29],t[30],...i)}function a(...i){return t[17](t[28],t[29],t[30],...i)}return{c(){e=A("div"),this.h()},l(i){e=N(i,"DIV",{class:!0}),E(e).forEach(p),this.h()},h(){h(e,"class",s="tile"+(t[28].type==t[7].Open?` mines-nearby-${t[9](t[28].x,t[28].y)}`:"")+" svelte-74z2jo"),y(e,"opened",t[28].type==t[7].Open),y(e,"flagged",t[28].type==t[7].Flagged),y(e,"exploded",t[28].isMine&&t[28].type==t[7].Open),y(e,"displayMine",t[2]==t[6].Lost&&t[28].isMine)},m(i,c){P(i,e,c),l||(r=[te(e,"click",u),te(e,"contextmenu",a)],l=!0)},p(i,c){t=i,c&16&&s!==(s="tile"+(t[28].type==t[7].Open?` mines-nearby-${t[9](t[28].x,t[28].y)}`:"")+" svelte-74z2jo")&&h(e,"class",s),c&144&&y(e,"opened",t[28].type==t[7].Open),c&144&&y(e,"flagged",t[28].type==t[7].Flagged),c&144&&y(e,"exploded",t[28].isMine&&t[28].type==t[7].Open),c&84&&y(e,"displayMine",t[2]==t[6].Lost&&t[28].isMine)},d(i){i&&p(e),l=!1,we(r)}}}function Le(t){let e,s,l,r,u,a,i,c,w,g,v,_,d,j,F,q;function Z(o){t[14](o)}let W={minDigits:3};t[3]!==void 0&&(W.number=t[3]),r=new _e({props:W}),he.push(()=>me(r,"number",Z));function R(o,z){if(o[2]==o[6].Waiting||o[2]==o[6].Generated)return Fe;if(o[2]==o[6].Won)return Oe;if(o[2]==o[6].Lost)return je}let V=R(t),D=V&&V(t);function H(o){t[15](o)}let S={minDigits:3};t[5]!==void 0&&(S.number=t[5]),g=new _e({props:S}),he.push(()=>me(g,"number",H));let B=X(t[4]),b=[];for(let o=0;o<B.length;o+=1)b[o]=ye(ve(t,B,o));return{c(){e=A("div"),s=A("div"),l=A("div"),$(r.$$.fragment),a=J(),i=A("button"),D&&D.c(),c=J(),w=A("div"),$(g.$$.fragment),_=J(),d=A("div");for(let o=0;o<b.length;o+=1)b[o].c();this.h()},l(o){e=N(o,"DIV",{class:!0});var z=E(e);s=N(z,"DIV",{class:!0});var C=E(s);l=N(C,"DIV",{class:!0});var T=E(l);x(r.$$.fragment,T),T.forEach(p),a=Q(C),i=N(C,"BUTTON",{class:!0});var k=E(i);D&&D.l(k),k.forEach(p),c=Q(C),w=N(C,"DIV",{class:!0});var n=E(w);x(g.$$.fragment,n),n.forEach(p),C.forEach(p),_=Q(z),d=N(z,"DIV",{class:!0,style:!0});var f=E(d);for(let m=0;m<b.length;m+=1)b[m].l(f);f.forEach(p),z.forEach(p),this.h()},h(){h(l,"class","display svelte-74z2jo"),h(i,"class","button svelte-74z2jo"),h(w,"class","display svelte-74z2jo"),h(s,"class","toparea svelte-74z2jo"),h(d,"class","board svelte-74z2jo"),Y(d,"grid-template-columns","repeat("+t[0]+", 1fr)"),Y(d,"grid-template-rows","repeat("+t[1]+", 1fr)"),h(e,"class","game svelte-74z2jo")},m(o,z){P(o,e,z),M(e,s),M(s,l),ee(r,l,null),M(s,a),M(s,i),D&&D.m(i,null),M(s,c),M(s,w),ee(g,w,null),M(e,_),M(e,d);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(d,null);j=!0,F||(q=te(i,"click",t[12]),F=!0)},p(o,[z]){const C={};!u&&z&8&&(u=!0,C.number=o[3],ce(()=>u=!1)),r.$set(C),V!==(V=R(o))&&(D&&D.d(1),D=V&&V(o),D&&(D.c(),D.m(i,null)));const T={};if(!v&&z&32&&(v=!0,T.number=o[5],ce(()=>v=!1)),g.$set(T),z&4052){B=X(o[4]);let k;for(k=0;k<B.length;k+=1){const n=ve(o,B,k);b[k]?b[k].p(n,z):(b[k]=ye(n),b[k].c(),b[k].m(d,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=B.length}(!j||z&1)&&Y(d,"grid-template-columns","repeat("+o[0]+", 1fr)"),(!j||z&2)&&Y(d,"grid-template-rows","repeat("+o[1]+", 1fr)")},i(o){j||(ne(r.$$.fragment,o),ne(g.$$.fragment,o),j=!0)},o(o){se(r.$$.fragment,o),se(g.$$.fragment,o),j=!1},d(o){o&&p(e),le(r),D&&D.d(),le(g),be(b,o),F=!1,q()}}}function Ie(t,e,s){var l=(n=>(n[n.Waiting=0]="Waiting",n[n.Generated=1]="Generated",n[n.Won=2]="Won",n[n.Lost=3]="Lost",n))(l||{});let r=0,{width:u}=e,{height:a}=e,{numMines:i}=e,c=0;var w=(n=>(n[n.Covered=0]="Covered",n[n.Open=1]="Open",n[n.Flagged=2]="Flagged",n))(w||{});let g=[];function v(n,f){return n<0||n>=u||f<0||f>=a?{x:n,y:f,isMine:!1,type:1}:g[n+f*u]}function _(){s(4,g=new Array(u*a));for(let n=0;n<u;n++)for(let f=0;f<a;f++)s(4,g[n+f*u]={x:n,y:f,isMine:!1,type:0},g)}const d=[{x:0,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0}];function*j(n,f){for(const m of d)yield v(n+m.x,f+m.y)}function F(n,f){let m=0;for(const O of j(n,f))O.isMine&&m++;return m}function q(n,f){let m=0;for(const O of j(n,f))O.type==2&&m++;return m}function Z(n,f){do{_();const m=[...g];for(let O=0;O<i;O++){const fe=Math.floor(Math.random()*m.length),U=m.splice(fe,1)[0];U.isMine=!0}}while(F(n,f)>0);s(2,r=1),B()}function W(n,f){if(r==0&&Z(n,f),r==1&&v(n,f).type!=2){if(v(n,f).type==0){if(v(n,f).type=1,v(n,f).isMine){s(2,r=3),b();return}if(F(n,f)==0)for(const m of j(n,f))W(m.x,m.y)}else if(v(n,f).type==1&&F(n,f)==q(n,f))for(const m of j(n,f))v(m.x,m.y).type==0&&W(m.x,m.y)}}function R(n,f){if(r!=1)return;const m=v(n,f);if(m.type==1)return;m.type=m.type==0?2:0;const O=g.reduce((U,K)=>K.type==2?++U:U,0);s(3,c=i-O),g.reduce((U,K)=>K.isMine&&K.type==2?++U:U,0)==i&&(s(2,r=2),b())}let V=-1,D=0,H=0;function S(){clearTimeout(V);const n=Date.now()-D+1005;V=setTimeout(()=>S(),Math.floor(n/1e3)*1e3%1e3),s(5,H=Math.floor((Date.now()-D)/1e3))}function B(){D=Date.now(),S()}function b(){clearTimeout(V)}function o(){s(2,r=0),_(),s(3,c=i),b(),s(5,H=0)}Me(()=>{o()});function z(n){c=n,s(3,c)}function C(n){H=n,s(5,H)}const T=(n,f,m,O)=>{O.preventDefault(),W(n.x,n.y),s(4,f[m]=v(n.x,n.y),g)},k=(n,f,m,O)=>{O.preventDefault(),R(n.x,n.y),s(4,f[m]=v(n.x,n.y),g)};return t.$$set=n=>{"width"in n&&s(0,u=n.width),"height"in n&&s(1,a=n.height),"numMines"in n&&s(13,i=n.numMines)},[u,a,r,c,g,H,l,w,v,F,W,R,o,i,z,C,T,k]}class Ve extends ae{constructor(e){super(),ie(this,e,Ie,Le,re,{width:0,height:1,numMines:13})}}function Be(t){let e,s=`body {
            display: flex;
            justify-content: center;
            align-items: center;

            width: 100vw;
            height: 100vh;

            margin: 0px;

            background-color: #C6C6C6;
        }`,l,r,u;return r=new Ve({props:{width:30,height:16,numMines:99}}),{c(){e=A("style"),e.textContent=s,l=J(),$(r.$$.fragment)},l(a){const i=De("svelte-14g35tl",document.head);e=N(i,"STYLE",{"data-svelte-h":!0}),Ee(e)!=="svelte-15oxlt6"&&(e.textContent=s),i.forEach(p),l=Q(a),x(r.$$.fragment,a)},m(a,i){M(document.head,e),P(a,l,i),ee(r,a,i),u=!0},p:G,i(a){u||(ne(r.$$.fragment,a),u=!0)},o(a){se(r.$$.fragment,a),u=!1},d(a){a&&p(l),p(e),le(r,a)}}}class We extends ae{constructor(e){super(),ie(this,e,null,Be,re,{})}}export{We as component,Pe as universal};
